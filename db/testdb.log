/*C3*/SET SCHEMA PUBLIC
DROP VIEW friends_list IF EXISTS
DROP TABLE people IF EXISTS
CREATE TABLE people( id INTEGER PRIMARY KEY, name VARCHAR(255), city VARCHAR(255) )
DROP TABLE friends IF EXISTS
CREATE TABLE friends( person INTEGER, friend INTEGER, PRIMARY KEY(person, friend) )
CREATE VIEW friends_list AS select a.person personID, a.friend friendID, b.name friendName, b.city friendCity from friends a left join people b on a.friend = b.id
INSERT INTO PEOPLE VALUES(1,'Alice','Dublin')
COMMIT
INSERT INTO PEOPLE VALUES(2,'Bob','Dublin')
COMMIT
INSERT INTO PEOPLE VALUES(3,'Charlie','London')
COMMIT
INSERT INTO PEOPLE VALUES(4,'Davina','Belfast')
COMMIT
INSERT INTO PEOPLE VALUES(5,'John','Galway')
COMMIT
INSERT INTO FRIENDS VALUES(1,1)
COMMIT
INSERT INTO FRIENDS VALUES(2,1)
COMMIT
INSERT INTO FRIENDS VALUES(2,3)
COMMIT
INSERT INTO FRIENDS VALUES(2,4)
COMMIT
INSERT INTO FRIENDS VALUES(2,5)
COMMIT
INSERT INTO FRIENDS VALUES(3,1)
COMMIT
INSERT INTO FRIENDS VALUES(3,2)
COMMIT
INSERT INTO FRIENDS VALUES(4,2)
COMMIT
INSERT INTO FRIENDS VALUES(5,3)
COMMIT
INSERT INTO FRIENDS VALUES(5,4)
COMMIT
